# VCR0060: Consider using Match or Switch instead of if/else on IsSuccess

| Property    | Value                          |
|-------------|--------------------------------|
| **Rule ID** | VCR0060                        |
| **Category**| Style                          |
| **Severity**| Info                           |
| **Enabled** | No (opt-in)                    |

## Description

When branching on `Result.IsSuccess` or `Result.IsFailure` with both `if` and `else`, consider using `Match` or `Switch` for exhaustive handling of both paths. This ensures both success and failure cases are always handled.

## Examples

### Flagged code

```csharp
// VCR0060: Consider using Match or Switch instead of branching on 'IsSuccess'
if (result.IsSuccess)
{
    ProcessOrder(result.Value);
}
else
{
    LogError(result.Error);
}
```

### Recommended alternatives

```csharp
// Match — when you need a return value
var response = result.Match(
    value => Ok(value),
    error => Problem(error.Message));

// Switch — for side effects only (void)
result.Switch(
    value => ProcessOrder(value),
    error => LogError(error));
```

## Match vs Switch

| Method   | Returns  | Use when                        |
|----------|----------|---------------------------------|
| `Match`  | `TResult`| Transforming to a return value  |
| `Switch` | `void`   | Side effects only (logging, UI) |

## How to enable

This rule is **disabled by default**. Enable it via `.editorconfig`:

```editorconfig
# .editorconfig
[*.cs]
dotnet_diagnostic.VCR0060.severity = suggestion  # or info, warning
```

## When to suppress

This is a style suggestion. Suppress if your team prefers explicit `if/else` for readability, especially with complex multi-statement branches:

```editorconfig
# .editorconfig
[*.cs]
dotnet_diagnostic.VCR0060.severity = none
```

## See also

- [VCR0020 — Result value accessed without success check](VCR0020.md)
- [Best Practices](../best-practices.md)
